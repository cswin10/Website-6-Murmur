.visual-scene {
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
}

/* Base gradient - shifts based on dominant sounds */
.scene-base {
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
  transition: background 2s ease;
}

/* Rain effect */
.scene-rain {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
  background: linear-gradient(to bottom,
    rgba(100, 150, 200, 0.05) 0%,
    rgba(50, 100, 150, 0.1) 100%);
  pointer-events: none;
}

.scene-rain.active {
  opacity: 1;
}

.scene-rain::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cline x1='10' y1='0' x2='10' y2='15' stroke='rgba(150,180,220,0.3)' stroke-width='1'/%3E%3Cline x1='30' y1='5' x2='30' y2='20' stroke='rgba(150,180,220,0.2)' stroke-width='1'/%3E%3Cline x1='50' y1='2' x2='50' y2='17' stroke='rgba(150,180,220,0.25)' stroke-width='1'/%3E%3Cline x1='70' y1='8' x2='70' y2='23' stroke='rgba(150,180,220,0.2)' stroke-width='1'/%3E%3Cline x1='90' y1='3' x2='90' y2='18' stroke='rgba(150,180,220,0.3)' stroke-width='1'/%3E%3C/svg%3E");
  background-size: 100px 100px;
  animation: rain-fall 0.5s linear infinite;
}

@keyframes rain-fall {
  0% { background-position: 0 0; }
  100% { background-position: 20px 100px; }
}

/* Fire effect - warm glow */
.scene-fire {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
  background: radial-gradient(ellipse at 50% 120%,
    rgba(232, 168, 124, 0.15) 0%,
    transparent 50%);
  pointer-events: none;
}

.scene-fire.active {
  opacity: 1;
  animation: fire-flicker 3s ease-in-out infinite;
}

@keyframes fire-flicker {
  0%, 100% { opacity: 0.8; }
  25% { opacity: 1; }
  50% { opacity: 0.7; }
  75% { opacity: 0.95; }
}

/* Forest effect - dappled green */
.scene-forest {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
  background:
    radial-gradient(ellipse at 20% 30%, rgba(133, 200, 138, 0.08) 0%, transparent 40%),
    radial-gradient(ellipse at 80% 70%, rgba(133, 200, 138, 0.06) 0%, transparent 40%),
    radial-gradient(ellipse at 50% 50%, rgba(100, 150, 100, 0.05) 0%, transparent 60%);
  pointer-events: none;
}

.scene-forest.active {
  opacity: 1;
  animation: forest-sway 8s ease-in-out infinite;
}

@keyframes forest-sway {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

/* Waves effect - blue undulation */
.scene-waves {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
  background: linear-gradient(to top,
    rgba(103, 212, 232, 0.1) 0%,
    transparent 40%);
  pointer-events: none;
}

.scene-waves.active {
  opacity: 1;
}

.scene-waves::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: -50%;
  right: -50%;
  height: 200px;
  background: rgba(103, 212, 232, 0.05);
  border-radius: 50%;
  animation: wave-motion 6s ease-in-out infinite;
}

@keyframes wave-motion {
  0%, 100% { transform: translateY(0) scaleY(1); }
  50% { transform: translateY(-20px) scaleY(0.9); }
}

/* Cafe effect - warm bokeh */
.scene-cafe {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
  pointer-events: none;
}

.scene-cafe.active {
  opacity: 1;
}

.scene-cafe::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 30%, rgba(212, 165, 116, 0.15) 0%, transparent 15%),
    radial-gradient(circle at 80% 20%, rgba(232, 168, 124, 0.1) 0%, transparent 10%),
    radial-gradient(circle at 60% 70%, rgba(212, 165, 116, 0.12) 0%, transparent 12%),
    radial-gradient(circle at 30% 80%, rgba(232, 168, 124, 0.08) 0%, transparent 8%),
    radial-gradient(circle at 90% 60%, rgba(200, 150, 100, 0.1) 0%, transparent 10%);
  animation: bokeh-float 10s ease-in-out infinite;
}

@keyframes bokeh-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

/* Wind effect - subtle movement */
.scene-wind {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
  pointer-events: none;
}

.scene-wind.active {
  opacity: 1;
}

.scene-wind::before {
  content: '';
  position: absolute;
  inset: -50%;
  background:
    radial-gradient(ellipse at 30% 50%, rgba(148, 163, 184, 0.05) 0%, transparent 30%),
    radial-gradient(ellipse at 70% 30%, rgba(148, 163, 184, 0.04) 0%, transparent 25%);
  animation: wind-drift 12s ease-in-out infinite;
}

@keyframes wind-drift {
  0%, 100% { transform: translateX(0) rotate(0deg); }
  50% { transform: translateX(30px) rotate(2deg); }
}

/* Night effect - stars */
.scene-night {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
  background: linear-gradient(to bottom,
    rgba(50, 50, 80, 0.2) 0%,
    rgba(20, 20, 40, 0.1) 100%);
  pointer-events: none;
}

.scene-night.active {
  opacity: 1;
}

.scene-night::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,0.5) 50%, transparent 50%),
    radial-gradient(1px 1px at 30% 50%, rgba(255,255,255,0.4) 50%, transparent 50%),
    radial-gradient(1px 1px at 50% 10%, rgba(255,255,255,0.6) 50%, transparent 50%),
    radial-gradient(1px 1px at 70% 40%, rgba(255,255,255,0.3) 50%, transparent 50%),
    radial-gradient(1px 1px at 90% 70%, rgba(255,255,255,0.5) 50%, transparent 50%),
    radial-gradient(2px 2px at 25% 80%, rgba(255,255,255,0.4) 50%, transparent 50%),
    radial-gradient(1px 1px at 85% 15%, rgba(255,255,255,0.5) 50%, transparent 50%),
    radial-gradient(1px 1px at 15% 65%, rgba(255,255,255,0.35) 50%, transparent 50%),
    radial-gradient(1px 1px at 45% 85%, rgba(255,255,255,0.45) 50%, transparent 50%),
    radial-gradient(1px 1px at 75% 5%, rgba(255,255,255,0.4) 50%, transparent 50%),
    radial-gradient(1px 1px at 5% 45%, rgba(255,255,255,0.3) 50%, transparent 50%),
    radial-gradient(2px 2px at 65% 55%, rgba(255,255,255,0.35) 50%, transparent 50%);
  animation: stars-twinkle 4s ease-in-out infinite;
}

@keyframes stars-twinkle {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

/* Thunder flash */
.scene-thunder {
  position: absolute;
  inset: 0;
  opacity: 0;
  background: rgba(255, 255, 255, 0.03);
  pointer-events: none;
}

.scene-thunder.flash {
  animation: lightning 0.2s ease;
}

@keyframes lightning {
  0% { opacity: 0; }
  10% { opacity: 0.8; }
  20% { opacity: 0.2; }
  30% { opacity: 0.6; }
  100% { opacity: 0; }
}
